{
  "name": "grunt-uncss",
  "description": "A grunt task for generating CSS files containing only those styles used in your project.",
  "version": "0.2.1",
  "homepage": "https://github.com/addyosmani/grunt-uncss",
  "author": {
    "name": "Addy Osmani",
    "email": "addyosmani@gmail.com"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/addyosmani/grunt-uncss.git"
  },
  "bugs": {
    "url": "https://github.com/addyosmani/grunt-uncss/issues"
  },
  "license": {
    "type": "MIT",
    "url": "https://github.com/addyosmani/grunt-uncss/blob/master/LICENSE-MIT"
  },
  "keywords": [
    "gruntplugin",
    "uncss",
    "css"
  ],
  "files": [
    "changelog.md",
    "LICENSE-MIT",
    "tasks"
  ],
  "engines": {
    "node": ">= 0.8.0"
  },
  "scripts": {
    "test": "grunt test"
  },
  "peerDependencies": {
    "grunt": "~0.4.1"
  },
  "dependencies": {
    "chalk": "~0.4.0",
    "uncss": "~0.7.9",
    "underscore": "~1.6.0"
  },
  "devDependencies": {
    "chai": "~1.9.0",
    "grunt": "~0.4.2",
    "grunt-compare-size": "~0.4.0",
    "grunt-contrib-clean": "~0.5.0",
    "grunt-contrib-connect": "~0.7.0",
    "grunt-contrib-copy": "~0.5.0",
    "grunt-contrib-cssmin": "~0.8.0",
    "grunt-contrib-jshint": "~0.8.0",
    "grunt-contrib-watch": "~0.5.3",
    "grunt-lib-contrib": "~0.6.1",
    "grunt-processhtml": "~0.3.0",
    "grunt-simple-mocha": "~0.4.0",
    "load-grunt-tasks": "~0.4.0",
    "mocha": "~1.17.1",
    "time-grunt": "~0.2.9"
  },
  "directories": {
    "test": "tests"
  },
  "readme": "# grunt-uncss [![Built with Grunt](https://cdn.gruntjs.com/builtwith.png)](http://gruntjs.com/)\n\n[![Build Status](https://travis-ci.org/addyosmani/grunt-uncss.png?branch=master)](https://travis-ci.org/addyosmani/grunt-uncss)\n[![Dependency Status](https://david-dm.org/addyosmani/grunt-uncss.png?theme=shields.io)](https://david-dm.org/addyosmani/grunt-uncss)\n[![devDependency Status](https://david-dm.org/addyosmani/grunt-uncss/dev-status.png?theme=shields.io)](https://david-dm.org/addyosmani/grunt-uncss#info=devDependencies)\n\n>A grunt task for removing unused CSS from your projects. Works across multiple files and supports dynamically injected CSS via PhantomJS.\n\n## Preview\n\nTaking a multi-page project using Bootstrap with >120KB of CSS down to 11KB.\n\n![](http://i.imgur.com/uhWMALH.gif)\n\n## Getting Started\n\nThis plugin requires Grunt `~0.4.0`\n\nIf you haven't used [Grunt](http://gruntjs.com/) before, be sure to check out the [Getting Started](http://gruntjs.com/getting-started) guide, as it explains how to create a [Gruntfile](http://gruntjs.com/sample-gruntfile) as well as install and use Grunt plugins. Once you're familiar with that process, you may install this plugin with this command:\n\n```shell\nnpm install grunt-uncss --save-dev\n```\n\nOnce the plugin has been installed, it may be enabled inside your Gruntfile with this line of JavaScript:\n\n```js\ngrunt.loadNpmTasks('grunt-uncss');\n```\n\n## Uncss task\n\n_Run this task with the `grunt uncss` command._\n\nTask targets, files and options may be specified according to the grunt [Configuring tasks](http://gruntjs.com/configuring-tasks) guide.\n\nRemove unused CSS from projects using [uncss](https://github.com/giakki/uncss).\n\n### Usage\n\nUse the `grunt-uncss` task by specifying a target destination (file) for your cleaned CSS. Below this is `dist/css/tidy.css`.\n\nAlong-side, specify the input HTML files you would like scanned for used selectors.\nIn this case `app/index.html` and `app/about.html` are the two files we would like checked.\n\n```js\nuncss: {\n  dist: {\n    files: {\n      'dist/css/tidy.css': ['app/index.html','app/about.html']\n      }\n    }\n}\n```\n\nWhich you can then use alongside a processor like `processhtml` to\nrewrite the location of your stylesheet to `tidy.css` using a block\nlike:\n\n```html\n<!-- build:css css/tidy.css -->\n<link rel=\"stylesheet\" href=\"css/normalize.css\">\n<link rel=\"stylesheet\" href=\"css/main.css\">\n<link rel=\"stylesheet\" href=\"css/bootstrap.css\">\n<!-- /build -->\n```\n\nand some configuration like:\n\n```js\nprocesshtml: {\n  dist: {\n    files: {\n      'dist/index.html': ['app/index.html'],\n      'dist/about.html': ['app/about.html']\n    }\n  }\n}\n```\n\n## Options\n\nSample use of all supported options:\n\n```\nignore: ['#added_at_runtime', /test\\-[0-9]+/],\nmedia: ['(min-width: 700px) handheld and (orientation: landscape)'],\ncsspath: \"../public/css/\",\nraw: 'h1 { color: green }',\nstylesheets: [\"lib/bootstrap/dist/css/bootstrap.css\", \"src/public/css/main.css\"],\nurls: [\"http://localhost:3000/mypage\", \"...\"] //array of urls,\nreport: false/'min'/'gzip',\ntimeout: 1000,\nhtmlroot: 'public'\n```\n\n### What do the options do?\n\n- __ignore__ (Array): provide a list of selectors that should not be removed by UnCSS. For example, styles added by user interaction with the page (hover, click), since those are not detectable by UnCSS yet. Both literal names and regex patterns are recognized.\n\n- __media__ (Array): by default UnCSS processes only stylesheets with media query \"_all_\", \"_screen_\", and those without one. Specify here which others to include.\n\n- __csspath__ (String): path where the CSS files are related to the html files. By default, UnCSS uses the path specified in the <link rel=\"stylesheet\" href=\"path/to/file.css\"\\>\n\n- __stylesheets__ (Array): use these stylesheets instead of those extracted from the html files.\n\n- __raw__ (String): give the task a raw string of CSS in addition to the existing stylesheet options; useful in scripting when your CSS hasn't yet been written to disk.\n\n- __urls__ (Array): array of URLs to load with Phantom (on top of the files already passed if any).\n\n- __report__ (false/'min'/'gzip'): specify whether to print out a report, using [grunt-lib-contrib's reporting option](https://github.com/gruntjs/grunt-lib-contrib#report).\n\n- __timeout__ (Number): specify how long to wait for the JS to be loaded.\n\n- __htmlroot__ (String): where the project root is. Useful for example if you are running UnCSS on _local_ files that have absolute href to the stylesheets, i.e. ```href=\"/css/style.css\"```\n\n### Usage examples\n\n```js\n// Remove unused CSS across multiple files\nuncss: {\n  dist: {\n    files: {\n      'dist/css/tidy.css': ['app/index.html','app/about.html']\n      }\n    }\n}\n```\n\n```js\n// Remove unused CSS across multiple files, ignore specific selectors and print a report\nuncss: {\n  dist: {\n    files: {\n      'dist/css/tidy.css': ['app/index.html','app/about.html']\n      }\n    },\n    options: {\n      ignore: ['#added_at_runtime', '.created_by_jQuery'],\n      report: 'min'\n    }\n  },\n  options: {\n    ignore: ['#added_at_runtime', '.created_by_jQuery']\n  }\n}\n```\n\n\n### Test project\n\nThere is a test project included under the `tests/app` directory which you can build by running `grunt` after an `npm install`.\nIt also includes a `grunt compare_size` task for getting a feel of the before and after CSS sizes:\n\n![](http://i.imgur.com/bUseCPh.png)\n\n\n## The problem\n\nUser-interface libraries like Bootstrap, TopCoat and so on are fairly prolific, however many developers\nuse less than 10% of the CSS they provide (when opting for the full build, which most do). As a result, they can\nend up with fairly bloated stylesheets which can significantly increase page load time and affect performance.\n`grunt-uncss` is an attempt to help with by generating a CSS file containing only the CSS used in your project,\nbased on selector testing.\n\n## Research and alternative solutions\n\nThere have been many efforts to try solving the problem of finding unused CSS in the past. Opera created\n[ucss](https://github.com/operasoftware/ucss), @aanand created (https://github.com/aanand/deadweight),\nBrian Le Roux [CSS Slap Chop](https://github.com/brianleroux/css-slap-chop) and there were a number of\nclient-side solutions also crafted, such as [Helium-CSS](https://github.com/geuis/helium-css),\n[CSSESS](https://github.com/driverdan/cssess) and the Python [mincss](http://www.peterbe.com/plog/mincss).\n\nUnfortunately, most of these solutions don't actually generate what you're really after - a leaner build\nof your project CSS containing only those rules you used. Finding that a more recent project called\n[uncss](https://github.com/giakki/uncss) did try tackling this, I set out to share some of the problems we\nneed to solve in this space with the developer and build a Grunt task to enable usage of it in builds more\neasily.\n\nHuge thanks go out to Giacomo Martino for his help with the Node module this task uses.\n\n\n## Coverage\n\n* [Automating the removal of unused CSS - VelocityConf](http://www.youtube.com/watch?v=833xr1MyE30)\n* [Use Grunt and UnCSS to speed up the load time of your site](http://xdamman.com/website-optimization-grunt-uncss)\n* [Automating Front-end Workflow (slides)](https://speakerdeck.com/addyosmani/automating-front-end-workflow)\n\n## Limitations\n\nPlease note that the CSS parser used in the `uncss` module we rely on currently isn't able to work with complex selectors.\nFor example `[data-section=''] > section > [data-section-title] a`. This may mean that at build time you run into exceptions\nsuch as `TypeError: Cannot convert undefined or null to object`. If this is the case, please consider moving these selectors\nto a separate stylesheet which the task does not run on.\n\nWe are actively looking at how to improve the CSS parsers used and will update this notice once this problem has been solved.\n\n## License\n\n(C) Addy Osmani 2013, released under an MIT license",
  "readmeFilename": "README.md",
  "_id": "grunt-uncss@0.2.1",
  "_from": "grunt-uncss@"
}
